:root { --accent:#d6a340; --panel:#111; --border:#3a2d10; }
.gen-layout { width:100%; height:100vh; display:flex; align-items:center; justify-content:center; background:#070707; font-family:'Inter',system-ui,sans-serif; }
/* Fixed canvas for 1800x720 */
.gen-canvas { width:1800px; height:720px; display:flex; align-items:center; justify-content:center; position:relative; overflow:hidden; }
.gen-canvas.center-phase { justify-content:center; }
/* Smooth slide of the card instead of layout jump */
.gen-canvas .gen-card { transition: transform .55s cubic-bezier(.4,.14,.2,1); }
.gen-canvas.prompt-phase .gen-card { transform:translateX(-120px); }
.gen-card { width:1080px; max-width:1080px; background:radial-gradient(circle at 15% 10%, #181612 0%, #0b0b0b 70%); border:1px solid var(--border); border-radius:34px; padding:42px 60px 34px; position:relative; box-shadow:0 0 0 1px #2a1e08, 0 0 46px -10px rgba(214,163,64,0.25); display:flex; flex-direction:column; gap:22px; height:640px; }
.gen-header-row { display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:24px; }
.back-btn { background:none; border:none; color:#f5e9cc; font-size:26px; cursor:pointer; padding:4px 6px; }
.back-btn:hover { color:var(--accent); }
.gen-title { font-size:34px; margin:0; font-weight:600; }
.gen-actions { display:flex; gap:14px; }
.icon-btn.sm { width:40px; height:40px; }

.flow-container { display:flex; flex-direction:column; gap:26px; }
.flow-block { background:#0f0f0f; border:1px solid #2f2410; border-radius:24px; padding:24px 26px 26px; display:flex; flex-direction:column; gap:14px; position:relative; transition:background .35s, padding .35s; animation:fadeIn .45s ease; }
.flow-block.compressed { padding:10px 18px 12px; background:#121212; }
.flow-header-row { display:flex; align-items:center; justify-content:space-between; gap:16px; }
.compressed-meta { display:flex; align-items:center; gap:14px; font-size:14px; opacity:.8; }
.undo-btn { background:none; border:1px solid #3b2c11; color:var(--accent); padding:4px 12px; font-size:13px; border-radius:14px; cursor:pointer; font-weight:500; }
.undo-btn:hover { background:#1e1a12; }
.voice-groups { display:flex; gap:48px; flex-wrap:wrap; }
.voice-group { display:flex; flex-direction:column; gap:14px; min-width:240px; position:relative; }
.voice-label { font-size:13px; text-transform:uppercase; letter-spacing:.8px; opacity:.7; font-weight:600; }
.voice-group.locked { opacity:.4; }
.locked-hint { font-size:12px; opacity:.65; margin-top:4px; }
.flow-label { font-size:18px; font-weight:500; letter-spacing:.5px; }
.choice-row { display:flex; gap:22px; }
.pill { min-width:82px; height:56px; padding:0 26px; border-radius:40px; border:2px solid #4a3a1d; background:rgba(255,255,255,0.04); color:#f5e9cc; font-size:20px; font-weight:600; cursor:pointer; transition:.3s; }
.pill:hover { border-color:var(--accent); }
.pill.selected { background:var(--accent); color:#111; border-color:var(--accent); box-shadow:0 0 0 2px #3a2d10, 0 0 14px -4px rgba(214,163,64,0.4); }

.prompt-block { background:#161616; }
.prompt-row { display:grid; grid-template-columns:110px 1fr auto; gap:22px; align-items:start; }
.mic-section { display:flex; flex-direction:column; align-items:center; gap:12px; }
.mic-btn { width:96px; height:96px; border-radius:50%; font-size:42px; border:4px solid #4a3a1d; background:#1a1a1a; color:var(--accent); cursor:pointer; display:flex; align-items:center; justify-content:center; transition:.35s; }
.mic-btn:hover { border-color:var(--accent); background:#222; }
.mic-btn.rec { animation:pulse 1.2s ease-in-out infinite; color:#ff4d4d; border-color:#ff4d4d; }
@keyframes pulse { 0%,100% { box-shadow:0 0 0 0 rgba(255,77,77,0.55);} 50% { box-shadow:0 0 0 16px rgba(255,77,77,0); } }
/* slide removed to avoid overlap */
@keyframes slideUp { 0% { transform:translateY(0); } 100% { transform:translateY(0); } }
@keyframes fadeIn { 0% { opacity:0; transform:translateY(12px); } 100% { opacity:1; transform:translateY(0); } }
.mic-hint { font-size:14px; opacity:.75; }
.prompt-input { width:100%; min-height:110px; max-height:170px; resize:vertical; background:#0d0d0d; border:1px solid #2e2310; border-radius:16px; padding:16px 18px; font-size:15px; line-height:1.4; color:#f5e9cc; font-family:inherit; }
.prompt-input:focus { outline:2px solid var(--accent); outline-offset:2px; }
.prompt-input:disabled { opacity:.5; }
.clear-audio { height:46px; padding:0 24px; border-radius:14px; background:#1c1c1c; border:1px solid #3a2d10; color:#f5e9cc; cursor:pointer; font-weight:500; }
.clear-audio:hover { background:#242424; }

.generate-btn { min-width:250px; height:70px; font-size:20px; font-weight:600; border-radius:22px; background:linear-gradient(145deg,#f5e9cc,#e6c786); color:#181612; border:2px solid #d6a340; cursor:pointer; box-shadow:0 0 0 1px #3a2d10, 0 0 22px -6px rgba(214,163,64,0.35); transition:.35s; }
.generate-btn:disabled { filter:grayscale(.6); opacity:.45; cursor:not-allowed; }
.generate-btn:not(:disabled):hover { transform:translateY(-3px); box-shadow:0 0 0 1px #3a2d10, 0 8px 28px -8px rgba(214,163,64,0.55); }
.generate-btn.fixed-generate { position:absolute; bottom:34px; right:34px; opacity:0; transform:translateY(12px); transition:opacity .45s ease, transform .5s ease; }
.gen-canvas.prompt-phase .generate-btn.fixed-generate { opacity:1; transform:translateY(0); }

/* Wrapper & error message for generate button */
.fixed-generate-wrapper { position:absolute; bottom:34px; right:34px; display:flex; flex-direction:column; align-items:flex-end; gap:10px; max-width:360px; }
.gen-error { background:#2b1518; color:#ff9d9d; padding:8px 14px; border-radius:14px; font-size:13px; border:1px solid #583033; box-shadow:0 2px 6px -2px rgba(0,0,0,0.4); }

@media (max-width: 1900px) { .gen-canvas { transform:scale(.95); } }
@media (max-width: 1700px) { .gen-canvas { transform:scale(.9); } }
@media (max-width: 1500px) { .gen-canvas { transform:scale(.82); } }
@media (max-width: 1350px) { .gen-canvas { transform:scale(.75); } }
@media (max-width: 1200px) { .gen-canvas { transform:scale(.68); } }
@media (max-width: 1100px) { .gen-canvas { transform:scale(.62); } .gen-card { padding:34px 32px 42px; } .prompt-row { grid-template-columns:100px 1fr; } .clear-audio { margin-top:8px; } }
@media (max-width: 760px) { .prompt-row { grid-template-columns:1fr; } .mic-section { flex-direction:row; } .mic-btn { width:80px; height:80px; font-size:34px; } }
